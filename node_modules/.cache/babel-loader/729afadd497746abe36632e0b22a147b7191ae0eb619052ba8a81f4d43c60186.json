{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n// import { PARTNERS } from '../../app/shared/PARTNERS';\nimport { baseUrl } from '../../app/shared/baseUrl';\nimport { mapImageURL } from '../../utils/mapImageURL';\nexport const fetchPartners = createAsyncThunk('partners/fetchPartners', async () => {\n  const response = await fetch(baseUrl + 'partners');\n  if (!response.ok) {\n    return Promise.reject('Unable to fetch, status: ' + response.status);\n  }\n  const data = await response.json();\n  return data;\n});\nconst initialState = {\n  partnersArray: [],\n  isLoading: true,\n  errMsg: ''\n};\nconst partnersSlice = createSlice({\n  name: 'partners',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchPartners.pending]: state => {\n      state.isLoading = true;\n    },\n    [fetchPartners.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.errMsg = '';\n      state.partnersArray = mapImageURL(action.payload);\n      console.log('partnersArray: ', state.partnersArray);\n    },\n    [fetchPartners.rejected]: (state, action) => {\n      state.isLoading = false;\n      state.errMsg = action.error ? action.error.message : 'Fetch failed';\n    }\n  }\n});\nexport const partnersReducer = partnersSlice.reducer;\nexport const selectAllPartners = state => {\n  return state.partners.partnersArray;\n};\nexport const selectFeaturedPartner = state => {\n  return state.partners.partnersArray.find(partner => partner.featured);\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","baseUrl","mapImageURL","fetchPartners","response","fetch","ok","Promise","reject","status","data","json","initialState","partnersArray","isLoading","errMsg","partnersSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","console","log","rejected","error","message","partnersReducer","reducer","selectAllPartners","partners","selectFeaturedPartner","find","partner","featured"],"sources":["/Users/kennethhu/Desktop/NucampFolder/WebDev/3-React/nucampsite/src/features/partners/partnersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n// import { PARTNERS } from '../../app/shared/PARTNERS';\nimport { baseUrl } from '../../app/shared/baseUrl';\nimport { mapImageURL } from '../../utils/mapImageURL';\n\nexport const fetchPartners = createAsyncThunk (\n    'partners/fetchPartners', \n    async () => {\n        const response = await fetch(baseUrl + 'partners');\n        if (!response.ok){\n            return Promise.reject('Unable to fetch, status: ' + response.status);\n        }\n        const data = await response.json();\n        return data;\n    }\n);\n\nconst initialState = {\n    partnersArray: [],\n    isLoading: true,\n    errMsg: ''\n};\n\nconst partnersSlice = createSlice({\n    name: 'partners',\n    initialState, \n    reducers: {},\n    extraReducers:{\n        [fetchPartners.pending]: (state) =>{\n            state.isLoading = true;\n        },\n        [fetchPartners.fulfilled]: (state, action) =>{\n            state.isLoading = false;\n            state.errMsg = '';\n            state.partnersArray = mapImageURL(action.payload);\n            console.log('partnersArray: ', state.partnersArray);\n        }, \n        [fetchPartners.rejected]: (state, action) =>{\n            state.isLoading = false;\n            state.errMsg = action.error? action.error.message : 'Fetch failed';\n        }\n    }\n});\n\nexport const partnersReducer = partnersSlice.reducer;\n\nexport const selectAllPartners = (state) => {\n    return state.partners.partnersArray;\n};\n\nexport const selectFeaturedPartner = (state) => {\n    return state.partners.partnersArray.find((partner) => partner.featured);\n};"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE;AACA,SAASC,OAAO,QAAQ,0BAA0B;AAClD,SAASC,WAAW,QAAQ,yBAAyB;AAErD,OAAO,MAAMC,aAAa,GAAGH,gBAAgB,CACzC,wBAAwB,EACxB,YAAY;EACR,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACJ,OAAO,GAAG,UAAU,CAAC;EAClD,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAC;IACb,OAAOC,OAAO,CAACC,MAAM,CAAC,2BAA2B,GAAGJ,QAAQ,CAACK,MAAM,CAAC;EACxE;EACA,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACf,CACJ,CAAC;AAED,MAAME,YAAY,GAAG;EACjBC,aAAa,EAAE,EAAE;EACjBC,SAAS,EAAE,IAAI;EACfC,MAAM,EAAE;AACZ,CAAC;AAED,MAAMC,aAAa,GAAGjB,WAAW,CAAC;EAC9BkB,IAAI,EAAE,UAAU;EAChBL,YAAY;EACZM,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAC;IACV,CAAChB,aAAa,CAACiB,OAAO,GAAIC,KAAK,IAAI;MAC/BA,KAAK,CAACP,SAAS,GAAG,IAAI;IAC1B,CAAC;IACD,CAACX,aAAa,CAACmB,SAAS,GAAG,CAACD,KAAK,EAAEE,MAAM,KAAI;MACzCF,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACN,MAAM,GAAG,EAAE;MACjBM,KAAK,CAACR,aAAa,GAAGX,WAAW,CAACqB,MAAM,CAACC,OAAO,CAAC;MACjDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEL,KAAK,CAACR,aAAa,CAAC;IACvD,CAAC;IACD,CAACV,aAAa,CAACwB,QAAQ,GAAG,CAACN,KAAK,EAAEE,MAAM,KAAI;MACxCF,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACN,MAAM,GAAGQ,MAAM,CAACK,KAAK,GAAEL,MAAM,CAACK,KAAK,CAACC,OAAO,GAAG,cAAc;IACtE;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,eAAe,GAAGd,aAAa,CAACe,OAAO;AAEpD,OAAO,MAAMC,iBAAiB,GAAIX,KAAK,IAAK;EACxC,OAAOA,KAAK,CAACY,QAAQ,CAACpB,aAAa;AACvC,CAAC;AAED,OAAO,MAAMqB,qBAAqB,GAAIb,KAAK,IAAK;EAC5C,OAAOA,KAAK,CAACY,QAAQ,CAACpB,aAAa,CAACsB,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,QAAQ,CAAC;AAC3E,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}