{"ast":null,"code":"import{useState}from'react';import{useDispatch}from'react-redux';import{Button,Modal,ModalHeader,ModalBody,FormGroup,Label}from'reactstrap';import{Formik,Field,Form,ErrorMessage}from'formik';import{validateCommentForm}from'../../utils/validateCommentForm';import{addComment}from'./commentsSlice';//rafce\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CommentForm=_ref=>{let{campsiteId}=_ref;const[modalOpen,setModalOpen]=useState(false);const dispatch=useDispatch();const handleSubmit=values=>{const comment={campsiteId:parseInt(campsiteId),rating:values.rating,author:values.author,text:values.commentText,date:new Date(Date.now()).toISOString()};dispatch(addComment(comment));setModalOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{outline:true,onClick:()=>setModalOpen(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil fa-lg\"}),\" Add Comment\"]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalOpen,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:()=>setModalOpen(false),children:\"Add Comment\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{rating:5,author:'',commentText:''},onSubmit:handleSubmit,validate:validateCommentForm,children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"rating\",children:\"Rating\"}),/*#__PURE__*/_jsxs(Field,{name:\"rating\",as:\"select\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{selected:true,children:\"5\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"rating\",children:msg=>/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg})})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"author\",children:\"Your Name\"}),/*#__PURE__*/_jsx(Field,{name:\"author\",placeholder:\"Your Name\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"author\",children:msg=>/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:msg})})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"commentText\",children:\"Comment\"}),/*#__PURE__*/_jsx(Field,{name:\"commentText\",as:\"textarea\",rows:\"12\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Submit\"})]})})})]})]});};export default CommentForm;","map":{"version":3,"names":["useState","useDispatch","Button","Modal","ModalHeader","ModalBody","FormGroup","Label","Formik","Field","Form","ErrorMessage","validateCommentForm","addComment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CommentForm","_ref","campsiteId","modalOpen","setModalOpen","dispatch","handleSubmit","values","comment","parseInt","rating","author","text","commentText","date","Date","now","toISOString","children","outline","onClick","className","isOpen","toggle","initialValues","onSubmit","validate","htmlFor","name","as","selected","msg","placeholder","rows","type","color"],"sources":["/Users/kennethhu/Desktop/NucampFolder/WebDev/3-React/nucampsite/src/features/comments/CommentForm.js"],"sourcesContent":["import {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {Button, Modal, ModalHeader, ModalBody, FormGroup, Label} from 'reactstrap';\nimport {Formik, Field, Form, ErrorMessage} from 'formik';\nimport {validateCommentForm} from '../../utils/validateCommentForm'\nimport { addComment } from './commentsSlice';\n//rafce\nconst CommentForm = ({campsiteId}) => {\n    const [modalOpen, setModalOpen] = useState(false);\n\n    const dispatch = useDispatch();\n\n    const handleSubmit = (values) => {\n        const comment = {\n        campsiteId: parseInt(campsiteId),\n        rating: values.rating,\n        author: values.author,\n        text: values.commentText,\n        date: new Date(Date.now()).toISOString()\n        };\n        dispatch(addComment(comment));\n        setModalOpen(false);\n    };\n    \n    return (\n        <>\n            <Button outline onClick={()=> setModalOpen(true)}>\n                <i className='fa fa-pencil fa-lg' /> Add Comment\n            </Button>\n            <Modal isOpen={modalOpen}>\n                <ModalHeader toggle={()=>setModalOpen(false)}>Add Comment</ModalHeader>\n                <ModalBody>\n                    <Formik\n                        initialValues={{\n                            rating: 5,\n                            author:'',\n                            commentText:'',\n                        }}\n                        onSubmit={handleSubmit}\n                        validate={validateCommentForm}\n                    >\n                        <Form>\n                            <FormGroup>\n                                <Label htmlFor='rating'>Rating</Label>\n                                <Field\n                                    name='rating'\n                                    as='select'\n                                    className='form-control'\n                                >\n                                    <option>Select...</option>\n                                    <option>1</option>\n                                    <option>2</option>\n                                    <option>3</option>\n                                    <option>4</option>\n                                    <option selected>5</option>\n                                </Field>\n                                <ErrorMessage name='rating'>\n                                {(msg) => <p className = 'text-danger'>{msg}</p>}\n                                </ErrorMessage>\n\n                            </FormGroup>\n                            <FormGroup>\n                                <Label htmlFor='author'>Your Name</Label>\n                                <Field \n                                    name='author'\n                                    placeholder='Your Name'\n                                    className='form-control'\n                                />\n                                <ErrorMessage name='author'>\n                                {(msg) => <p className = 'text-danger'>{msg}</p>}\n                                </ErrorMessage>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label htmlFor='commentText'>Comment</Label>\n                                <Field \n                                    name='commentText'\n                                    as ='textarea'\n                                    rows='12'\n                                    className='form-control'\n                                />\n                            </FormGroup>\n                            <Button type='submit' color='primary'>Submit</Button>\n                        </Form>\n                    </Formik>\n                </ModalBody>\n            </Modal>\n        </>\n    )\n}\n\nexport default CommentForm\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}